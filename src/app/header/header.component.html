<header>
  <a routerLink="/" class="d-none d-md-block"><img class="w-100" src="general/logo.png" alt="logo"></a>
  <div class="d-flex container-fluid text-white justify-content-center align-items-center py-2"
    style="background-color: #21174C;">
    <button class="col-2 col-md-4 navbar-toggler d-flex d-md-none fs-1 px-1 px-md-0 py-1 py-md-0" type="button"
      (click)="alternarMenu()">
      <i class="fa fa-bars"></i>
    </button>
    <div class="col-8 col-md-4"><a class="nav-link fs-5 fw-bold text-center text-md-start" routerLink="/">Luis✪F
        Series</a></div>
    <ul class="col-4 col-md-4 nav justify-content-center gap-3 d-none d-md-flex">
      <li class="nav-item">
        <a class="nav-link fw-light" style="font-size: 1.2rem;" routerLink="/" routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }">
          <i class="fa-solid fa-home"></i> Inicio
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link fw-light" style="font-size: 1.2rem;" routerLink="series" routerLinkActive="active">
          <i class="fa-solid fa-tv"></i> Series
        </a>
      </li>
    </ul>
    <div class="col-2 col-md-4 text-end">
      <a *ngIf="!sesionIniciada" class="d-none d-md-inline btn btn-outline-primary border-0 text-white me-1" type="button" routerLink="login">
        Iniciar sesión
      </a>
      <a *ngIf="!sesionIniciada" class="d-none d-md-inline btn btn-primary border-0 text-white me-1" type="button" routerLink="signup">
        Crear cuenta
      </a>
      <div *ngIf="sesionIniciada" class="d-none d-md-flex justify-content-end position-relative" #menuWrapper>
        <button class="btn btn-link text-decoration-none p-0 d-flex align-items-center text-white"
          type="button"
          (click)="alternarDropdownCuenta($event)"
          style="font-size: 1.04rem;">
          <img class="rounded-circle" [src]="avatar || 'general/user-default.jpg'" alt="user" style="width: 2rem; height: 2rem;">
          <span *ngIf="usuario" class="ms-2 text-white">{{ usuario }}</span>
          <span *ngIf="!usuario" class="ms-2 text-white opacity-50">Sin nombre de usuario</span>
          <i class="fa-solid ms-2" [ngClass]="dropdownCuenta ? 'fa-caret-up' : 'fa-caret-down'"></i>
        </button>
        <div *ngIf="dropdownCuenta"
          class="position-absolute end-0 top-100 mt-3 border border-success rounded shadow-sm p-2 gap-1 d-flex flex-column"
          style="background-color: #1B1B3A; z-index: 1000;">
          <a class="btn btn-outline-primary border-0 text-start text-white" routerLink="perfil" (click)="alternarDropdownCuenta($event)">
            <i class="fa-solid fa-user-gear me-2"></i> Perfil
          </a>
          <a *ngIf="esAdmin" class="btn btn-outline-primary border-0 text-start text-white" routerLink="agregar-serie" (click)="alternarDropdownCuenta($event)">
            <i class="fa-solid fa-plus me-2"></i> Agregar Serie
          </a>
          <a *ngIf="esAdmin" class="btn btn-outline-primary border-0 text-start text-white" routerLink="gestionar-series" (click)="alternarDropdownCuenta($event)">
            <i class="fa-solid fa-pen-to-square me-2"></i> Editar Serie
          </a>
          <a *ngIf="esAdmin" class="btn btn-outline-primary border-0 text-start text-white" routerLink="carrusel" (click)="alternarDropdownCuenta($event)">
            <i class="fa-solid fa-rectangle-list me-2"></i> Carrusel
          </a>
          <a class="btn btn-outline-danger border-0 text-start text-white" (click)="cerrarSesion()">
            <i class="fa fa-sign-out-alt me-2"></i> Cerrar Sesión
          </a>
        </div>
      </div>
      <button type="button" class="btn p-0 ms-2 d-inherit d-md-none" style="background: none; border: none;"
        (click)="alternarCuenta()">
        <img class="rounded-circle" alt="user"
          style="width: 2rem; height: 2rem; cursor: pointer;"
          [src]="avatar || 'general/user-default.jpg'" />
      </button>
    </div>
  </div>
</header>
<div id="menu" class="position-absolute w-100 h-100 top-0 overflow-hidden d-flex" style="z-index: 10;"
    [ngClass]="{ 'active': menuAbierto }">
  <div class="w-100 h-100 position-absolute" style="background-color: rgba(0, 0, 0, 0.5);" (click)="alternarMenu()"></div>
  <div id="menu-contenido" class="d-flex w-auto h-100 me-auto py-2" style="background-color: #21174C;" [ngClass]="{ 'active': menuAbierto }">
    <!-- cerrar boton -->
    <button class="btn btn-danger position-absolute end-0 px-2 py-1 d-flex align-items-center" type="button" (click)="alternarMenu()" style="transform: translateX(140%) translateY(13%);">
      <i class="fa fa-times fs-4"></i>
    </button>
    <div class="d-flex flex-column">
      <a class="btn btn-outline-primary border-0 rounded-0 text-white text-start d-flex align-items-center justify-content-center px-4"
        role="button" routerLink="/" (click)="alternarCuenta()">
        <i class="fa-solid fa-home me-3"></i><span class="me-auto" style="padding-bottom: .15rem;">Inicio</span>
      </a>
      <a class="btn btn-outline-primary border-0 rounded-0 text-white text-start d-flex align-items-center justify-content-center px-4"
        role="button" routerLink="series" (click)="alternarCuenta()">
        <i class="fa-solid fa-tv me-3"></i><span class="me-auto" style="padding-bottom: .15rem;">Series</span>
      </a>
    </div>
  </div>
</div>
<div id="cuenta" class="position-absolute w-100 h-100 top-0 overflow-hidden d-flex" style="z-index: 10;"
    [ngClass]="{ 'active': cuentaAbierto }">
  <div class="w-100 h-100 position-absolute" style="background-color: rgba(0, 0, 0, 0.5);" (click)="alternarCuenta()"></div>
  <div id="cuenta-contenido" class="d-flex w-auto h-100 ms-auto py-2" style="background-color: #21174C;" [ngClass]="{ 'active': cuentaAbierto }">
    <!-- cerrar boton -->
    <button class="btn btn-danger position-absolute px-2 py-1 d-flex align-items-center" type="button" (click)="alternarCuenta()" style="transform: translateX(-140%) translateY(13%);">
      <i class="fa fa-times fs-4"></i>
    </button>
    <div class="d-flex flex-column">
      <div *ngIf="sesionIniciada" class="ps-3 pe-4 mt-2 d-flex align-items-center">
        <img class="rounded-circle me-2" [src]="avatar || 'general/user-default.jpg'" alt="user" style="width: 2rem; height: 2rem;">
        <span *ngIf="usuario" class="text-white">{{ usuario }}</span>
        <span *ngIf="!usuario" class="text-white opacity-50">Sin nombre de usuario</span>
      </div>
      <hr *ngIf="sesionIniciada" class="text-white" />
      <a *ngIf="!sesionIniciada" class="btn btn-outline-primary border-0 rounded-0 text-white text-start d-flex align-items-center justify-content-center px-4"
        role="button" routerLink="login" (click)="alternarCuenta()">
        <i class="fa fa-user-circle me-3"></i><span class="me-auto" style="padding-bottom: .15rem;">Iniciar Sesión</span>
      </a>
      <a *ngIf="!sesionIniciada" class="btn btn-outline-primary border-0 rounded-0 text-white text-start d-flex align-items-center justify-content-center px-4"
        role="button" routerLink="signup" (click)="alternarCuenta()">
        <i class="fa fa-user-circle me-3"></i><span class="me-auto" style="padding-bottom: .15rem;">Crear Cuenta</span>
      </a>
      <a *ngIf="sesionIniciada" class="btn btn-outline-primary border-0 rounded-0 text-white text-start d-flex align-items-center justify-content-center px-4"
        role="button" routerLink="perfil" (click)="alternarCuenta()">
        <i class="fa-solid fa-user-gear me-3"></i><span class="me-auto" style="padding-bottom: .15rem;">Perfil</span>
      </a>
      <a *ngIf="esAdmin" class="btn btn-outline-primary border-0 rounded-0 text-white text-start d-flex align-items-center justify-content-center px-4"
        role="button" routerLink="agregar-serie" (click)="alternarCuenta()">
        <i class="fa-solid fa-plus me-3"></i><span class="me-auto" style="padding-bottom: .15rem;">Agregar Serie</span>
      </a>
      <a *ngIf="esAdmin" class="btn btn-outline-primary border-0 rounded-0 text-white text-start d-flex align-items-center justify-content-center px-4"
        role="button" routerLink="gestionar-series" (click)="alternarCuenta()">
        <i class="fa-solid fa-pen-to-square me-3"></i><span class="me-auto" style="padding-bottom: .15rem;">Editar Serie</span>
      </a>
      <a *ngIf="esAdmin" class="btn btn-outline-primary border-0 rounded-0 text-white text-start d-flex align-items-center justify-content-center px-4"
        role="button" routerLink="carrusel" (click)="alternarCuenta()">
        <i class="fa-solid fa-rectangle-list me-3"></i><span class="me-auto" style="padding-bottom: .15rem;">Carrusel</span>
      </a>
      <button *ngIf="sesionIniciada" class="btn btn-outline-primary border-0 rounded-0 text-white text-start d-flex align-items-center justify-content-center px-4"
        type="button" (click)="cerrarSesion()">
        <i class="fa fa-sign-out-alt me-3"></i><span class="me-auto" style="padding-bottom: .15rem;">Cerrar Sesión</span>
      </button>
    </div>
  </div>
</div>